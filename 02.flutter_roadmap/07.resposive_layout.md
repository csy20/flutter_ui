# Responsive Layouts & Constraints in Flutter

Responsive design ensures your Flutter app looks great and functions well across all device sizes, from small phones to large tablets and desktops. This comprehensive guide covers everything you need to know about building responsive layouts in Flutter.

## What is Responsive Design?

Responsive design means your app **automatically adapts** to different screen sizes and orientations without losing functionality or visual appeal.

### Why Responsive Design Matters

```
ğŸ“± Phone (360x640)     ğŸ“± Large Phone (414x896)     ğŸ“± Tablet (768x1024)     ğŸ’» Desktop (1920x1080)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Your App    â”‚    â”‚       Your App          â”‚    â”‚         Your App        â”‚    â”‚            Your App             â”‚
â”‚                 â”‚    â”‚                         â”‚    â”‚                         â”‚    â”‚                                 â”‚
â”‚ [Button]        â”‚    â”‚ [Button]                â”‚    â”‚  [Button]               â”‚    â”‚  [Button]                       â”‚
â”‚                 â”‚    â”‚                         â”‚    â”‚                         â”‚    â”‚                                 â”‚
â”‚ [Text]          â”‚    â”‚ [Text]                  â”‚    â”‚  [Text]                 â”‚    â”‚  [Text]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Single Column          Single Column              Two Columns                    Three Columns
```

## Understanding Flutter Constraints

In Flutter, **constraints flow down** and **sizes flow up**. This is fundamental to how layouts work.

### The Constraint System

```dart
// How constraints work:
// 1. Parent gives constraints to child: "You can be between min and max size"
// 2. Child decides its size within those constraints
// 3. Parent positions the child based on the child's size

// Example constraint flow:
class ConstraintExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        // 1. Scaffold gives Container full screen constraints
        width: double.infinity,
        height: double.infinity,
        color: Colors.blue[100],
        child: Center(
          child: Container(
            // 2. Center gives Container "any size" constraints
            width: 200,
            height: 100,
            color: Colors.blue,
            child: Center(
              child: Text(
                // 3. Container constrains Text to 200x100
                'Hello Flutter!',
                style: TextStyle(color: Colors.white),
              ),
            ),
          ),
        ),
      ),
    );
  }
}
```

### Constraint Types

```dart
class ConstraintTypes extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Constraint Types')),
      body: Column(
        children: [
          // 1. Tight Constraints - exact size
          Container(
            width: 200,    // Tight width constraint
            height: 100,   // Tight height constraint
            color: Colors.red,
            child: Text('Tight Constraints\n200x100'),
          ),
          
          SizedBox(height: 16),
          
          // 2. Loose Constraints - maximum size
          Container(
            constraints: BoxConstraints(
              maxWidth: 300,    // Loose width constraint (0 to 300)
              maxHeight: 150,   // Loose height constraint (0 to 150)
            ),
            color: Colors.green,
            child: Text('Loose Constraints\nMax 300x150'),
          ),
          
          SizedBox(height: 16),
          
          // 3. Bounded Constraints - min and max
          Container(
            constraints: BoxConstraints(
              minWidth: 100,    // Minimum width
              maxWidth: 300,    // Maximum width
              minHeight: 50,    // Minimum height
              maxHeight: 150,   // Maximum height
            ),
            color: Colors.blue,
            child: Text('Bounded Constraints\n100-300 x 50-150'),
          ),
          
          SizedBox(height: 16),
          
          // 4. Unbounded Constraints - infinite size
          Container(
            width: double.infinity,  // Takes all available width
            height: 100,
            color: Colors.orange,
            child: Text('Unbounded Width\nInfinite x 100'),
          ),
        ],
      ),
    );
  }
}
```

## Getting Screen Information

First, you need to know the screen dimensions to make responsive decisions:

```dart
class ScreenInfo extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // Get screen information
    final screenSize = MediaQuery.of(context).size;
    final screenWidth = screenSize.width;
    final screenHeight = screenSize.height;
    final orientation = MediaQuery.of(context).orientation;
    final devicePixelRatio = MediaQuery.of(context).devicePixelRatio;
    final textScaleFactor = MediaQuery.of(context).textScaleFactor;
    final padding = MediaQuery.of(context).padding; // Safe areas
    
    return Scaffold(
      appBar: AppBar(title: Text('Screen Information')),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text('Screen Width: ${screenWidth.toStringAsFixed(1)}px'),
            Text('Screen Height: ${screenHeight.toStringAsFixed(1)}px'),
            Text('Orientation: $orientation'),
            Text('Device Pixel Ratio: ${devicePixelRatio.toStringAsFixed(1)}'),
            Text('Text Scale Factor: ${textScaleFactor.toStringAsFixed(1)}'),
            Text('Top Padding: ${padding.top}px (Status bar)'),
            Text('Bottom Padding: ${padding.bottom}px (Home indicator)'),
            
            SizedBox(height: 24),
            
            // Visual representation
            Container(
              width: screenWidth * 0.8,
              height: 100,
              decoration: BoxDecoration(
                color: Colors.blue[100],
                border: Border.all(color: Colors.blue),
              ),
              child: Center(
                child: Text('80% of screen width\n${(screenWidth * 0.8).toStringAsFixed(1)}px'),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

## Breakpoints for Responsive Design

Define breakpoints to categorize different screen sizes:

```dart
class ResponsiveBreakpoints {
  // Common breakpoint values
  static const double mobile = 600;
  static const double tablet = 900;
  static const double desktop = 1200;
  
  // Device type detection
  static bool isMobile(BuildContext context) {
    return MediaQuery.of(context).size.width < mobile;
  }
  
  static bool isTablet(BuildContext context) {
    final width = MediaQuery.of(context).size.width;
    return width >= mobile && width < desktop;
  }
  
  static bool isDesktop(BuildContext context) {
    return MediaQuery.of(context).size.width >= desktop;
  }
  
  // Get device type as enum
  static DeviceType getDeviceType(BuildContext context) {
    final width = MediaQuery.of(context).size.width;
    if (width < mobile) return DeviceType.mobile;
    if (width < desktop) return DeviceType.tablet;
    return DeviceType.desktop;
  }
  
  // Get number of columns based on screen size
  static int getColumnsCount(BuildContext context) {
    if (isMobile(context)) return 1;
    if (isTablet(context)) return 2;
    return 3; // Desktop
  }
  
  // Get horizontal padding based on screen size
  static double getHorizontalPadding(BuildContext context) {
    if (isMobile(context)) return 16.0;
    if (isTablet(context)) return 24.0;
    return 32.0; // Desktop
  }
}

enum DeviceType { mobile, tablet, desktop }

// Usage example
class BreakpointExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final deviceType = ResponsiveBreakpoints.getDeviceType(context);
    final columns = ResponsiveBreakpoints.getColumnsCount(context);
    final padding = ResponsiveBreakpoints.getHorizontalPadding(context);
    
    return Scaffold(
      appBar: AppBar(title: Text('Responsive Breakpoints')),
      body: Padding(
        padding: EdgeInsets.symmetric(horizontal: padding),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Container(
              width: double.infinity,
              padding: EdgeInsets.all(16),
              decoration: BoxDecoration(
                color: _getDeviceColor(deviceType),
                borderRadius: BorderRadius.circular(8),
              ),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    'Device Type: ${deviceType.toString().split('.').last.toUpperCase()}',
                    style: TextStyle(
                      fontSize: 18,
                      fontWeight: FontWeight.bold,
                      color: Colors.white,
                    ),
                  ),
                  Text(
                    'Columns: $columns',
                    style: TextStyle(color: Colors.white),
                  ),
                  Text(
                    'Padding: ${padding}px',
                    style: TextStyle(color: Colors.white),
                  ),
                ],
              ),
            ),
            
            SizedBox(height: 24),
            
            // Grid that adapts to screen size
            Expanded(
              child: GridView.builder(
                gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
                  crossAxisCount: columns,
                  crossAxisSpacing: 16,
                  mainAxisSpacing: 16,
                  childAspectRatio: 1.5,
                ),
                itemCount: 12,
                itemBuilder: (context, index) {
                  return Container(
                    decoration: BoxDecoration(
                      color: Colors.blue[100],
                      borderRadius: BorderRadius.circular(8),
                      border: Border.all(color: Colors.blue),
                    ),
                    child: Center(
                      child: Text(
                        'Item ${index + 1}',
                        style: TextStyle(fontWeight: FontWeight.bold),
                      ),
                    ),
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
  
  Color _getDeviceColor(DeviceType deviceType) {
    switch (deviceType) {
      case DeviceType.mobile:
        return Colors.green;
      case DeviceType.tablet:
        return Colors.orange;
      case DeviceType.desktop:
        return Colors.purple;
    }
  }
}
```

## Flexible and Expanded Widgets

These widgets are essential for creating responsive layouts:

### Understanding Flex

```dart
class FlexExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Flexible vs Expanded')),
      body: Column(
        children: [
          // Example 1: Without Flexible/Expanded
          Container(
            height: 100,
            color: Colors.grey[300],
            child: Row(
              children: [
                Container(
                  width: 100,
                  color: Colors.red,
                  child: Center(child: Text('Fixed\n100px')),
                ),
                Container(
                  width: 150,
                  color: Colors.green,
                  child: Center(child: Text('Fixed\n150px')),
                ),
                Container(
                  width: 120,
                  color: Colors.blue,
                  child: Center(child: Text('Fixed\n120px')),
                ),
                // This might overflow on small screens!
              ],
            ),
          ),
          
          SizedBox(height: 16),
          
          // Example 2: With Flexible
          Container(
            height: 100,
            color: Colors.grey[300],
            child: Row(
              children: [
                Flexible(
                  flex: 1, // Takes 1 part of available space
                  child: Container(
                    color: Colors.red,
                    child: Center(child: Text('Flexible\nflex: 1')),
                  ),
                ),
                Flexible(
                  flex: 2, // Takes 2 parts of available space
                  child: Container(
                    color: Colors.green,
                    child: Center(child: Text('Flexible\nflex: 2')),
                  ),
                ),
                Flexible(
                  flex: 1, // Takes 1 part of available space
                  child: Container(
                    color: Colors.blue,
                    child: Center(child: Text('Flexible\nflex: 1')),
                  ),
                ),
              ],
            ),
          ),
          
          SizedBox(height: 16),
          
          // Example 3: With Expanded
          Container(
            height: 100,
            color: Colors.grey[300],
            child: Row(
              children: [
                Expanded(
                  flex: 1,
                  child: Container(
                    color: Colors.orange,
                    child: Center(child: Text('Expanded\nflex: 1')),
                  ),
                ),
                Container(
                  width: 100,
                  color: Colors.purple,
                  child: Center(child: Text('Fixed\n100px')),
                ),
                Expanded(
                  flex: 2,
                  child: Container(
                    color: Colors.teal,
                    child: Center(child: Text('Expanded\nflex: 2')),
                  ),
                ),
              ],
            ),
          ),
          
          SizedBox(height: 24),
          
          // Explanation
          Expanded(
            child: Container(
              padding: EdgeInsets.all(16),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    'Key Differences:',
                    style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
                  ),
                  SizedBox(height: 8),
                  Text('â€¢ Fixed sizes can cause overflow on small screens'),
                  Text('â€¢ Flexible: Child can be smaller than allocated space'),
                  Text('â€¢ Expanded: Child must fill allocated space'),
                  Text('â€¢ flex: ratio determines space distribution'),
                ],
              ),
            ),
          ),
        ],
      ),
    );
  }
}
```

### Practical Flexible/Expanded Example

```dart
class ResponsiveCardLayout extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final isMobile = ResponsiveBreakpoints.isMobile(context);
    
    return Scaffold(
      appBar: AppBar(title: Text('Responsive Card Layout')),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: isMobile
            ? _buildMobileLayout()
            : _buildTabletDesktopLayout(),
      ),
    );
  }
  
  Widget _buildMobileLayout() {
    return Column(
      children: [
        _buildProfileCard(),
        SizedBox(height: 16),
        _buildStatsCard(),
        SizedBox(height: 16),
        Expanded(child: _buildActivityCard()),
      ],
    );
  }
  
  Widget _buildTabletDesktopLayout() {
    return Row(
      children: [
        Expanded(
          flex: 1,
          child: Column(
            children: [
              _buildProfileCard(),
              SizedBox(height: 16),
              _buildStatsCard(),
            ],
          ),
        ),
        SizedBox(width: 16),
        Expanded(
          flex: 2,
          child: _buildActivityCard(),
        ),
      ],
    );
  }
  
  Widget _buildProfileCard() {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          children: [
            CircleAvatar(
              radius: 40,
              backgroundColor: Colors.blue,
              child: Text('JD', style: TextStyle(fontSize: 24, color: Colors.white)),
            ),
            SizedBox(height: 16),
            Text('John Doe', style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold)),
            Text('Flutter Developer', style: TextStyle(color: Colors.grey[600])),
          ],
        ),
      ),
    );
  }
  
  Widget _buildStatsCard() {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Row(
          mainAxisAlignment: MainAxisAlignment.spaceAround,
          children: [
            _buildStatItem('Projects', '12'),
            _buildStatItem('Followers', '1.2k'),
            _buildStatItem('Following', '500'),
          ],
        ),
      ),
    );
  }
  
  Widget _buildStatItem(String label, String value) {
    return Column(
      children: [
        Text(
          value,
          style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold, color: Colors.blue),
        ),
        Text(label, style: TextStyle(color: Colors.grey[600])),
      ],
    );
  }
  
  Widget _buildActivityCard() {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Recent Activity',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            SizedBox(height: 16),
            Expanded(
              child: ListView.builder(
                itemCount: 10,
                itemBuilder: (context, index) {
                  return ListTile(
                    leading: CircleAvatar(
                      backgroundColor: Colors.blue[100],
                      child: Icon(Icons.code, color: Colors.blue),
                    ),
                    title: Text('Completed task ${index + 1}'),
                    subtitle: Text('2 hours ago'),
                    trailing: Icon(Icons.arrow_forward_ios, size: 16),
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

## LayoutBuilder for Dynamic Layouts

LayoutBuilder provides the exact constraints available to a widget:

```dart
class LayoutBuilderExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('LayoutBuilder Example')),
      body: LayoutBuilder(
        builder: (context, constraints) {
          // constraints.maxWidth and constraints.maxHeight available here
          
          if (constraints.maxWidth > 800) {
            return _buildWideLayout(constraints);
          } else if (constraints.maxWidth > 400) {
            return _buildMediumLayout(constraints);
          } else {
            return _buildNarrowLayout(constraints);
          }
        },
      ),
    );
  }
  
  Widget _buildWideLayout(BoxConstraints constraints) {
    return Row(
      children: [
        Expanded(
          flex: 1,
          child: _buildSidebar(),
        ),
        Expanded(
          flex: 2,
          child: _buildMainContent(),
        ),
        Expanded(
          flex: 1,
          child: _buildRightPanel(),
        ),
      ],
    );
  }
  
  Widget _buildMediumLayout(BoxConstraints constraints) {
    return Row(
      children: [
        Expanded(
          flex: 1,
          child: _buildSidebar(),
        ),
        Expanded(
          flex: 2,
          child: _buildMainContent(),
        ),
      ],
    );
  }
  
  Widget _buildNarrowLayout(BoxConstraints constraints) {
    return Column(
      children: [
        Container(
          height: 60,
          child: _buildTopNavigation(),
        ),
        Expanded(
          child: _buildMainContent(),
        ),
      ],
    );
  }
  
  Widget _buildSidebar() {
    return Container(
      color: Colors.blue[100],
      child: Center(
        child: Text(
          'Sidebar',
          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
      ),
    );
  }
  
  Widget _buildMainContent() {
    return Container(
      color: Colors.green[100],
      child: Center(
        child: Text(
          'Main Content',
          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
      ),
    );
  }
  
  Widget _buildRightPanel() {
    return Container(
      color: Colors.orange[100],
      child: Center(
        child: Text(
          'Right Panel',
          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
      ),
    );
  }
  
  Widget _buildTopNavigation() {
    return Container(
      color: Colors.purple[100],
      child: Center(
        child: Text(
          'Top Navigation',
          style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
        ),
      ),
    );
  }
}
```

## OrientationBuilder for Orientation Changes

Handle portrait and landscape orientations differently:

```dart
class OrientationExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Orientation Example')),
      body: OrientationBuilder(
        builder: (context, orientation) {
          if (orientation == Orientation.portrait) {
            return _buildPortraitLayout();
          } else {
            return _buildLandscapeLayout();
          }
        },
      ),
    );
  }
  
  Widget _buildPortraitLayout() {
    return Padding(
      padding: EdgeInsets.all(16.0),
      child: Column(
        children: [
          // Hero image
          Container(
            height: 200,
            width: double.infinity,
            decoration: BoxDecoration(
              color: Colors.blue[100],
              borderRadius: BorderRadius.circular(12),
            ),
            child: Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(Icons.image, size: 64, color: Colors.blue),
                  Text('Portrait Mode', style: TextStyle(fontSize: 18)),
                ],
              ),
            ),
          ),
          
          SizedBox(height: 24),
          
          // Content in column
          Expanded(
            child: Column(
              children: _buildContentItems(),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildLandscapeLayout() {
    return Padding(
      padding: EdgeInsets.all(16.0),
      child: Row(
        children: [
          // Hero image on the left
          Container(
            width: 300,
            decoration: BoxDecoration(
              color: Colors.blue[100],
              borderRadius: BorderRadius.circular(12),
            ),
            child: Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(Icons.image, size: 64, color: Colors.blue),
                  Text('Landscape Mode', style: TextStyle(fontSize: 18)),
                ],
              ),
            ),
          ),
          
          SizedBox(width: 24),
          
          // Content on the right
          Expanded(
            child: Column(
              children: _buildContentItems(),
            ),
          ),
        ],
      ),
    );
  }
  
  List<Widget> _buildContentItems() {
    return [
      Card(
        child: ListTile(
          leading: Icon(Icons.star, color: Colors.orange),
          title: Text('Feature 1'),
          subtitle: Text('Description of feature 1'),
        ),
      ),
      Card(
        child: ListTile(
          leading: Icon(Icons.favorite, color: Colors.red),
          title: Text('Feature 2'),
          subtitle: Text('Description of feature 2'),
        ),
      ),
      Card(
        child: ListTile(
          leading: Icon(Icons.thumb_up, color: Colors.green),
          title: Text('Feature 3'),
          subtitle: Text('Description of feature 3'),
        ),
      ),
    ];
  }
}
```

## Responsive Grid Layouts

Create grids that adapt to screen size:

```dart
class ResponsiveGrid extends StatelessWidget {
  final List<GridItem> items = List.generate(
    20,
    (index) => GridItem(
      title: 'Item ${index + 1}',
      subtitle: 'Description for item ${index + 1}',
      color: Colors.primaries[index % Colors.primaries.length],
    ),
  );
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Responsive Grid')),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: LayoutBuilder(
          builder: (context, constraints) {
            // Calculate number of columns based on width
            int columns = _calculateColumns(constraints.maxWidth);
            
            return GridView.builder(
              gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
                crossAxisCount: columns,
                crossAxisSpacing: 16,
                mainAxisSpacing: 16,
                childAspectRatio: _calculateAspectRatio(columns),
              ),
              itemCount: items.length,
              itemBuilder: (context, index) {
                return _buildGridItem(items[index]);
              },
            );
          },
        ),
      ),
    );
  }
  
  int _calculateColumns(double width) {
    if (width > 1200) return 4;      // Desktop: 4 columns
    if (width > 800) return 3;       // Large tablet: 3 columns
    if (width > 600) return 2;       // Small tablet: 2 columns
    return 1;                        // Mobile: 1 column
  }
  
  double _calculateAspectRatio(int columns) {
    // Adjust aspect ratio based on number of columns
    switch (columns) {
      case 1: return 2.5;  // Wide cards for mobile
      case 2: return 1.5;  // Medium cards for tablet
      case 3: return 1.2;  // Slightly wide for large tablet
      case 4: return 1.0;  // Square for desktop
      default: return 1.0;
    }
  }
  
  Widget _buildGridItem(GridItem item) {
    return Card(
      elevation: 4,
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(12),
      ),
      child: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
            colors: [
              item.color.withOpacity(0.8),
              item.color.withOpacity(0.6),
            ],
          ),
          borderRadius: BorderRadius.circular(12),
        ),
        child: Padding(
          padding: EdgeInsets.all(16.0),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Icon(
                Icons.star,
                color: Colors.white,
                size: 32,
              ),
              SizedBox(height: 8),
              Text(
                item.title,
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
                  fontWeight: FontWeight.bold,
                ),
              ),
              SizedBox(height: 4),
              Expanded(
                child: Text(
                  item.subtitle,
                  style: TextStyle(
                    color: Colors.white.withOpacity(0.9),
                    fontSize: 14,
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}

class GridItem {
  final String title;
  final String subtitle;
  final Color color;
  
  GridItem({
    required this.title,
    required this.subtitle,
    required this.color,
  });
}
```

## Advanced Responsive Techniques

### Responsive Typography

```dart
class ResponsiveTypography extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Responsive Typography')),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            // Responsive heading
            Text(
              'Responsive Heading',
              style: TextStyle(
                fontSize: _getHeadingSize(context),
                fontWeight: FontWeight.bold,
              ),
            ),
            
            SizedBox(height: 16),
            
            // Responsive body text
            Text(
              'This is body text that adapts to screen size. On mobile devices, '
              'it will be smaller for better readability. On tablets and desktops, '
              'it will be larger to take advantage of the available space.',
              style: TextStyle(
                fontSize: _getBodySize(context),
                height: _getLineHeight(context),
              ),
            ),
            
            SizedBox(height: 24),
            
            // Responsive button
            SizedBox(
              width: _getButtonWidth(context),
              height: _getButtonHeight(context),
              child: ElevatedButton(
                onPressed: () {},
                child: Text(
                  'Responsive Button',
                  style: TextStyle(fontSize: _getButtonTextSize(context)),
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
  
  double _getHeadingSize(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return 24;
    if (ResponsiveBreakpoints.isTablet(context)) return 28;
    return 32; // Desktop
  }
  
  double _getBodySize(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return 14;
    if (ResponsiveBreakpoints.isTablet(context)) return 16;
    return 18; // Desktop
  }
  
  double _getLineHeight(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return 1.4;
    if (ResponsiveBreakpoints.isTablet(context)) return 1.5;
    return 1.6; // Desktop
  }
  
  double _getButtonWidth(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return double.infinity;
    if (ResponsiveBreakpoints.isTablet(context)) return 200;
    return 250; // Desktop
  }
  
  double _getButtonHeight(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return 48;
    if (ResponsiveBreakpoints.isTablet(context)) return 52;
    return 56; // Desktop
  }
  
  double _getButtonTextSize(BuildContext context) {
    if (ResponsiveBreakpoints.isMobile(context)) return 14;
    if (ResponsiveBreakpoints.isTablet(context)) return 16;
    return 18; // Desktop
  }
}
```

### Responsive Spacing

```dart
class ResponsiveSpacing {
  // Padding values
  static double getPadding(BuildContext context, {double scale = 1.0}) {
    double basePadding;
    if (ResponsiveBreakpoints.isMobile(context)) {
      basePadding = 16.0;
    } else if (ResponsiveBreakpoints.isTablet(context)) {
      basePadding = 24.0;
    } else {
      basePadding = 32.0; // Desktop
    }
    return basePadding * scale;
  }
  
  // Margin values
  static double getMargin(BuildContext context, {double scale = 1.0}) {
    double baseMargin;
    if (ResponsiveBreakpoints.isMobile(context)) {
      baseMargin = 8.0;
    } else if (ResponsiveBreakpoints.isTablet(context)) {
      baseMargin = 12.0;
    } else {
      baseMargin = 16.0; // Desktop
    }
    return baseMargin * scale;
  }
  
  // Gap between elements
  static double getGap(BuildContext context, {double scale = 1.0}) {
    double baseGap;
    if (ResponsiveBreakpoints.isMobile(context)) {
      baseGap = 12.0;
    } else if (ResponsiveBreakpoints.isTablet(context)) {
      baseGap = 16.0;
    } else {
      baseGap = 20.0; // Desktop
    }
    return baseGap * scale;
  }
}

// Usage example
class ResponsiveSpacingExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Responsive Spacing')),
      body: Padding(
        padding: EdgeInsets.all(ResponsiveSpacing.getPadding(context)),
        child: Column(
          children: [
            Container(
              width: double.infinity,
              height: 100,
              color: Colors.blue[100],
              child: Center(child: Text('Item 1')),
            ),
            
            SizedBox(height: ResponsiveSpacing.getGap(context)),
            
            Container(
              width: double.infinity,
              height: 100,
              color: Colors.green[100],
              margin: EdgeInsets.symmetric(
                horizontal: ResponsiveSpacing.getMargin(context),
              ),
              child: Center(child: Text('Item 2 with margin')),
            ),
            
            SizedBox(height: ResponsiveSpacing.getGap(context, scale: 2.0)),
            
            Container(
              width: double.infinity,
              height: 100,
              color: Colors.orange[100],
              padding: EdgeInsets.all(ResponsiveSpacing.getPadding(context, scale: 0.5)),
              child: Center(child: Text('Item 3 with custom padding')),
            ),
          ],
        ),
      ),
    );
  }
}
```

## Complete Responsive Example

Here's a comprehensive example combining all responsive techniques:

```dart
class ResponsiveDashboard extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Responsive Dashboard'),
        backgroundColor: Colors.blue,
      ),
      body: LayoutBuilder(
        builder: (context, constraints) {
          if (constraints.maxWidth > 1200) {
            return _buildDesktopLayout();
          } else if (constraints.maxWidth > 800) {
            return _buildTabletLayout();
          } else {
            return _buildMobileLayout();
          }
        },
      ),
    );
  }
  
  Widget _buildDesktopLayout() {
    return Row(
      children: [
        // Sidebar
        Container(
          width: 250,
          child: _buildSidebar(),
        ),
        
        // Main content
        Expanded(
          flex: 2,
          child: _buildMainContent(),
        ),
        
        // Right panel
        Container(
          width: 300,
          child: _buildRightPanel(),
        ),
      ],
    );
  }
  
  Widget _buildTabletLayout() {
    return Row(
      children: [
        // Sidebar
        Container(
          width: 200,
          child: _buildSidebar(),
        ),
        
        // Main content
        Expanded(
          child: _buildMainContent(),
        ),
      ],
    );
  }
  
  Widget _buildMobileLayout() {
    return Column(
      children: [
        // Top navigation
        Container(
          height: 60,
          child: _buildTopNavigation(),
        ),
        
        // Main content
        Expanded(
          child: _buildMainContent(),
        ),
      ],
    );
  }
  
  Widget _buildSidebar() {
    return Container(
      color: Colors.grey[100],
      child: ListView(
        children: [
          ListTile(
            leading: Icon(Icons.dashboard),
            title: Text('Dashboard'),
            selected: true,
          ),
          ListTile(
            leading: Icon(Icons.people),
            title: Text('Users'),
          ),
          ListTile(
            leading: Icon(Icons.analytics),
            title: Text('Analytics'),
          ),
          ListTile(
            leading: Icon(Icons.settings),
            title: Text('Settings'),
          ),
        ],
      ),
    );
  }
  
  Widget _buildTopNavigation() {
    return Container(
      color: Colors.grey[100],
      child: Row(
        children: [
          IconButton(icon: Icon(Icons.menu), onPressed: () {}),
          Expanded(child: Text('Dashboard', style: TextStyle(fontSize: 18))),
          IconButton(icon: Icon(Icons.notifications), onPressed: () {}),
        ],
      ),
    );
  }
  
  Widget _buildMainContent() {
    return Padding(
      padding: EdgeInsets.all(16.0),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          // Stats cards
          _buildStatsRow(),
          
          SizedBox(height: 24),
          
          // Chart area
          Expanded(
            child: Card(
              child: Padding(
                padding: EdgeInsets.all(16.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'Analytics Chart',
                      style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
                    ),
                    SizedBox(height: 16),
                    Expanded(
                      child: Container(
                        decoration: BoxDecoration(
                          color: Colors.blue[50],
                          borderRadius: BorderRadius.circular(8),
                        ),
                        child: Center(
                          child: Text('Chart Area'),
                        ),
                      ),
                    ),
                  ],
                ),
              ),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildStatsRow() {
    return LayoutBuilder(
      builder: (context, constraints) {
        if (constraints.maxWidth > 600) {
          // Wide layout: horizontal row
          return Row(
            children: _buildStatCards()
                .map((card) => Expanded(child: Padding(
                      padding: EdgeInsets.symmetric(horizontal: 4),
                      child: card,
                    )))
                .toList(),
          );
        } else {
          // Narrow layout: vertical column
          return Column(
            children: _buildStatCards()
                .map((card) => Padding(
                      padding: EdgeInsets.symmetric(vertical: 4),
                      child: card,
                    ))
                .toList(),
          );
        }
      },
    );
  }
  
  List<Widget> _buildStatCards() {
    return [
      _buildStatCard('Users', '1,234', Colors.blue, Icons.people),
      _buildStatCard('Sales', '\$12,345', Colors.green, Icons.attach_money),
      _buildStatCard('Orders', '567', Colors.orange, Icons.shopping_cart),
      _buildStatCard('Revenue', '\$23,456', Colors.purple, Icons.trending_up),
    ];
  }
  
  Widget _buildStatCard(String title, String value, Color color, IconData icon) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                Text(title, style: TextStyle(color: Colors.grey[600])),
                Icon(icon, color: color),
              ],
            ),
            SizedBox(height: 8),
            Text(
              value,
              style: TextStyle(
                fontSize: 24,
                fontWeight: FontWeight.bold,
                color: color,
              ),
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildRightPanel() {
    return Container(
      color: Colors.grey[50],
      child: Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Recent Activity',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            SizedBox(height: 16),
            Expanded(
              child: ListView.builder(
                itemCount: 10,
                itemBuilder: (context, index) {
                  return ListTile(
                    leading: CircleAvatar(
                      backgroundColor: Colors.blue[100],
                      child: Text('${index + 1}'),
                    ),
                    title: Text('Activity ${index + 1}'),
                    subtitle: Text('Description'),
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

## Best Practices for Responsive Design

### 1. Mobile-First Approach
Start designing for mobile, then scale up:

```dart
// âœ… Good: Mobile-first approach
Widget build(BuildContext context) {
  Widget content = _buildMobileLayout(); // Default
  
  if (MediaQuery.of(context).size.width > 600) {
    content = _buildTabletLayout();
  }
  
  if (MediaQuery.of(context).size.width > 1200) {
    content = _buildDesktopLayout();
  }
  
  return content;
}
```

### 2. Use Relative Sizes
Prefer relative over absolute sizes:

```dart
// âŒ Avoid: Fixed sizes
Container(width: 300, height: 200)

// âœ… Better: Relative sizes
Container(
  width: MediaQuery.of(context).size.width * 0.8,
  height: MediaQuery.of(context).size.height * 0.3,
)

// âœ… Best: Flexible widgets
Flexible(flex: 2, child: Container(...))
```

### 3. Test on Different Screen Sizes
Use Flutter's device preview:

```dart
// Add to your main.dart for testing
import 'package:device_preview/device_preview.dart';

void main() {
  runApp(
    DevicePreview(
      enabled: !kReleaseMode,
      builder: (context) => MyApp(),
    ),
  );
}
```

### 4. Consider Text Scaling
Handle dynamic text scaling:

```dart
// Account for user's text scale factor
double getResponsiveFontSize(BuildContext context, double baseSize) {
  final textScaleFactor = MediaQuery.of(context).textScaleFactor;
  return baseSize * textScaleFactor.clamp(0.8, 1.3); // Limit scaling
}
```

## Summary

Responsive layouts in Flutter require understanding:

### Key Concepts
1. **Constraints flow down, sizes flow up**
2. **MediaQuery for screen information**
3. **Breakpoints for different device sizes**
4. **Flexible/Expanded for responsive spacing**
5. **LayoutBuilder for constraint-based layouts**

### Essential Widgets
- **MediaQuery**: Screen information
- **LayoutBuilder**: Available space constraints
- **Flexible/Expanded**: Responsive space distribution
- **OrientationBuilder**: Orientation-specific layouts
- **AspectRatio**: Maintain proportions

### Best Practices
- Start with mobile-first design
- Use relative sizes over fixed dimensions
- Test on multiple screen sizes
- Consider accessibility and text scaling
- Optimize for performance across devices

Building responsive layouts ensures your Flutter app provides an excellent user experience across all devices, from small phones to large desktop screens!